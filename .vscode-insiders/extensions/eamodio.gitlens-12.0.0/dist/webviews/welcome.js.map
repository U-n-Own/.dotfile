{"version":3,"file":"welcome.js","mappings":"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","sources":["webpack:///../protocol.ts","webpack:///../../system/date.ts","webpack:///./shared/dom.ts","webpack:///./shared/colors.ts","webpack:///./shared/theme.ts","webpack:///./shared/appBase.ts","webpack:///./shared/appWithConfigBase.ts","webpack:///./welcome/welcome.ts"],"sourcesContent":["import type { Config } from '../config';\n\nexport interface IpcMessage {\n\tid: string;\n\tmethod: string;\n\tparams?: unknown;\n}\n\nabstract class IpcMessageType<Params = void> {\n\t_?: Params; // Required for type inferencing to work properly\n\tconstructor(public readonly method: string) {}\n}\nexport type IpcMessageParams<T> = T extends IpcMessageType<infer P> ? P : never;\n\n/**\n * Commands are sent from the webview to the extension\n */\nexport class IpcCommandType<Params = void> extends IpcMessageType<Params> {}\n/**\n * Notifications are sent from the extension to the webview\n */\nexport class IpcNotificationType<Params = void> extends IpcMessageType<Params> {}\n\nexport function onIpc<T extends IpcMessageType<any>>(\n\ttype: T,\n\tmsg: IpcMessage,\n\tfn: (params: IpcMessageParams<T>) => unknown,\n) {\n\tif (type.method !== msg.method) return;\n\n\tfn(msg.params as IpcMessageParams<T>);\n}\n\n// COMMANDS\n\nexport const WebviewReadyCommandType = new IpcCommandType('webview/ready');\n\nexport interface ExecuteCommandParams {\n\tcommand: string;\n\targs?: [];\n}\nexport const ExecuteCommandType = new IpcCommandType<ExecuteCommandParams>('command/execute');\n\nexport interface GenerateCommitPreviewParams {\n\tkey: string;\n\ttype: 'commit';\n\tformat: string;\n}\n\ntype GenerateConfigurationPreviewParams = GenerateCommitPreviewParams;\nexport const GenerateConfigurationPreviewCommandType = new IpcCommandType<GenerateConfigurationPreviewParams>(\n\t'configuration/preview',\n);\n\nexport interface UpdateConfigurationParams {\n\tchanges: {\n\t\t[key: string]: any;\n\t};\n\tremoves: string[];\n\tscope?: 'user' | 'workspace';\n\turi?: string;\n}\nexport const UpdateConfigurationCommandType = new IpcCommandType<UpdateConfigurationParams>('configuration/update');\n\n// NOTIFICATIONS\n\nexport interface DidChangeConfigurationParams {\n\tconfig: Config;\n\tcustomSettings: Record<string, boolean>;\n}\nexport const DidChangeConfigurationNotificationType = new IpcNotificationType<DidChangeConfigurationParams>(\n\t'configuration/didChange',\n);\n\nexport interface DidGenerateConfigurationPreviewParams {\n\tcompletionId: string;\n\tpreview: string;\n}\n\nexport const DidGenerateConfigurationPreviewNotificationType =\n\tnew IpcNotificationType<DidGenerateConfigurationPreviewParams>('configuration/didPreview');\n\nexport interface DidOpenAnchorParams {\n\tanchor: string;\n\tscrollBehavior: 'auto' | 'smooth';\n}\nexport const DidOpenAnchorNotificationType = new IpcNotificationType<DidOpenAnchorParams>('webview/didOpenAnchor');\n","// NOTE@eamodio If this changes we need to update the replacement function too (since its parameter number/order relies on the matching)\nconst customDateTimeFormatParserRegex =\n\t/(?<literal>\\[.*?\\])|(?<year>YYYY|YY)|(?<month>M{1,4})|(?<day>Do|DD?)|(?<weekday>d{2,4})|(?<hour>HH?|hh?)|(?<minute>mm?)|(?<second>ss?)|(?<fractionalSecond>SSS)|(?<dayPeriod>A|a)|(?<timeZoneName>ZZ?)/g;\nconst dateTimeFormatCache = new Map<string | undefined, Intl.DateTimeFormat>();\nconst dateTimeFormatRegex = /(?<dateStyle>full|long|medium|short)(?:\\+(?<timeStyle>full|long|medium|short))?/;\nlet defaultRelativeTimeFormat: InstanceType<typeof Intl.RelativeTimeFormat> | undefined;\nlet defaultShortRelativeTimeFormat: InstanceType<typeof Intl.RelativeTimeFormat> | undefined;\nlet locale: string | undefined;\nconst relativeUnitThresholds: [Intl.RelativeTimeFormatUnit, number, string][] = [\n\t['year', 24 * 60 * 60 * 1000 * 365, 'yr'],\n\t['month', (24 * 60 * 60 * 1000 * 365) / 12, 'mo'],\n\t['week', 24 * 60 * 60 * 1000 * 7, 'wk'],\n\t['day', 24 * 60 * 60 * 1000, 'd'],\n\t['hour', 60 * 60 * 1000, 'h'],\n\t['minute', 60 * 1000, 'm'],\n\t['second', 1000, 's'],\n];\n\ntype DateStyle = 'full' | 'long' | 'medium' | 'short';\ntype TimeStyle = 'full' | 'long' | 'medium' | 'short';\nexport type DateTimeFormat = DateStyle | `${DateStyle}+${TimeStyle}`;\n\nexport function createFromDateDelta(\n\tdate: Date,\n\tdelta: { years?: number; months?: number; days?: number; hours?: number; minutes?: number; seconds?: number },\n): Date {\n\tconst d = new Date(date.getTime());\n\n\tfor (const [key, value] of Object.entries(delta)) {\n\t\tif (!value) continue;\n\n\t\tswitch (key) {\n\t\t\tcase 'years':\n\t\t\t\td.setFullYear(d.getFullYear() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'months':\n\t\t\t\td.setMonth(d.getMonth() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'days':\n\t\t\t\td.setDate(d.getDate() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'hours':\n\t\t\t\td.setHours(d.getHours() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'minutes':\n\t\t\t\td.setMinutes(d.getMinutes() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'seconds':\n\t\t\t\td.setSeconds(d.getSeconds() + value);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn d;\n}\n\nexport function fromNow(date: Date, short?: boolean): string {\n\tconst elapsed = date.getTime() - new Date().getTime();\n\n\tfor (const [unit, threshold, shortUnit] of relativeUnitThresholds) {\n\t\tconst elapsedABS = Math.abs(elapsed);\n\t\tif (elapsedABS >= threshold || threshold === 1000 /* second */) {\n\t\t\tif (short) {\n\t\t\t\tif (locale == null) {\n\t\t\t\t\tif (defaultShortRelativeTimeFormat != null) {\n\t\t\t\t\t\tlocale = defaultShortRelativeTimeFormat.resolvedOptions().locale;\n\t\t\t\t\t} else if (defaultRelativeTimeFormat != null) {\n\t\t\t\t\t\tlocale = defaultRelativeTimeFormat.resolvedOptions().locale;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdefaultShortRelativeTimeFormat = new Intl.RelativeTimeFormat(undefined, {\n\t\t\t\t\t\t\tlocaleMatcher: 'best fit',\n\t\t\t\t\t\t\tnumeric: 'always',\n\t\t\t\t\t\t\tstyle: 'narrow',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlocale = defaultShortRelativeTimeFormat.resolvedOptions().locale;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locale === 'en' || locale?.startsWith('en-')) {\n\t\t\t\t\tconst value = Math.round(elapsedABS / threshold);\n\t\t\t\t\treturn `${value}${shortUnit}`;\n\t\t\t\t}\n\n\t\t\t\tif (defaultShortRelativeTimeFormat == null) {\n\t\t\t\t\tdefaultShortRelativeTimeFormat = new Intl.RelativeTimeFormat(undefined, {\n\t\t\t\t\t\tlocaleMatcher: 'best fit',\n\t\t\t\t\t\tnumeric: 'always',\n\t\t\t\t\t\tstyle: 'narrow',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn defaultShortRelativeTimeFormat.format(Math.round(elapsed / threshold), unit);\n\t\t\t}\n\n\t\t\tif (defaultRelativeTimeFormat == null) {\n\t\t\t\tdefaultRelativeTimeFormat = new Intl.RelativeTimeFormat(undefined, {\n\t\t\t\t\tlocaleMatcher: 'best fit',\n\t\t\t\t\tnumeric: 'auto',\n\t\t\t\t\tstyle: 'long',\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn defaultRelativeTimeFormat.format(Math.round(elapsed / threshold), unit);\n\t\t}\n\t}\n\n\treturn '';\n}\n\nexport function formatDate(date: Date, format: 'full' | 'long' | 'medium' | 'short' | string | null | undefined) {\n\tformat = format ?? undefined;\n\n\tlet formatter = dateTimeFormatCache.get(format);\n\tif (formatter == null) {\n\t\tconst options = getDateTimeFormatOptionsFromFormatString(format);\n\t\tformatter = new Intl.DateTimeFormat(undefined, options);\n\t\tdateTimeFormatCache.set(format, formatter);\n\t}\n\n\tif (format == null || dateTimeFormatRegex.test(format)) {\n\t\treturn formatter.format(date);\n\t}\n\n\tconst parts = formatter.formatToParts(date);\n\treturn format.replace(\n\t\tcustomDateTimeFormatParserRegex,\n\t\t(\n\t\t\t_match,\n\t\t\tliteral,\n\t\t\t_year,\n\t\t\t_month,\n\t\t\t_day,\n\t\t\t_weekday,\n\t\t\t_hour,\n\t\t\t_minute,\n\t\t\t_second,\n\t\t\t_fractionalSecond,\n\t\t\t_dayPeriod,\n\t\t\t_timeZoneName,\n\t\t\t_offset,\n\t\t\t_s,\n\t\t\tgroups,\n\t\t) => {\n\t\t\tif (literal != null) return (literal as string).substring(1, literal.length - 1);\n\n\t\t\tfor (const key in groups) {\n\t\t\t\tconst value = groups[key];\n\t\t\t\tif (value == null) continue;\n\n\t\t\t\tconst part = parts.find(p => p.type === key);\n\n\t\t\t\tif (value === 'Do' && part?.type === 'day') {\n\t\t\t\t\treturn formatWithOrdinal(Number(part.value));\n\t\t\t\t} else if (value === 'a' && part?.type === 'dayPeriod') {\n\t\t\t\t\treturn part.value.toLocaleLowerCase();\n\t\t\t\t}\n\t\t\t\treturn part?.value ?? '';\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t);\n}\n\nexport function getDateDifference(\n\tfirst: Date | number,\n\tsecond: Date | number,\n\tunit?: 'days' | 'hours' | 'minutes' | 'seconds',\n): number {\n\tconst diff =\n\t\t(typeof second === 'number' ? second : second.getTime()) -\n\t\t(typeof first === 'number' ? first : first.getTime());\n\tswitch (unit) {\n\t\tcase 'days':\n\t\t\treturn Math.floor(diff / (1000 * 60 * 60 * 24));\n\t\tcase 'hours':\n\t\t\treturn Math.floor(diff / (1000 * 60 * 60));\n\t\tcase 'minutes':\n\t\t\treturn Math.floor(diff / (1000 * 60));\n\t\tcase 'seconds':\n\t\t\treturn Math.floor(diff / 1000);\n\t\tdefault:\n\t\t\treturn diff;\n\t}\n}\n\nfunction getDateTimeFormatOptionsFromFormatString(\n\tformat: DateTimeFormat | string | undefined,\n): Intl.DateTimeFormatOptions {\n\tif (format == null) return { localeMatcher: 'best fit', dateStyle: 'full', timeStyle: 'short' };\n\n\tconst match = dateTimeFormatRegex.exec(format);\n\tif (match?.groups != null) {\n\t\tconst { dateStyle, timeStyle } = match.groups;\n\t\treturn {\n\t\t\tlocaleMatcher: 'best fit',\n\t\t\tdateStyle: (dateStyle as Intl.DateTimeFormatOptions['dateStyle']) || 'full',\n\t\t\ttimeStyle: (timeStyle as Intl.DateTimeFormatOptions['timeStyle']) || undefined,\n\t\t};\n\t}\n\n\tconst options: Intl.DateTimeFormatOptions = { localeMatcher: 'best fit' };\n\n\tfor (const { groups } of format.matchAll(customDateTimeFormatParserRegex)) {\n\t\tif (groups == null) continue;\n\n\t\tfor (const key in groups) {\n\t\t\tconst value = groups[key];\n\t\t\tif (value == null) continue;\n\n\t\t\tswitch (key) {\n\t\t\t\tcase 'year':\n\t\t\t\t\toptions.year = value.length === 4 ? 'numeric' : '2-digit';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'month':\n\t\t\t\t\tswitch (value.length) {\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\toptions.month = 'long';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\toptions.month = 'short';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\toptions.month = '2-digit';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\toptions.month = 'numeric';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'day':\n\t\t\t\t\tif (value === 'DD') {\n\t\t\t\t\t\toptions.day = '2-digit';\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.day = 'numeric';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'weekday':\n\t\t\t\t\tswitch (value.length) {\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\toptions.weekday = 'long';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\toptions.weekday = 'short';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\toptions.weekday = 'narrow';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'hour':\n\t\t\t\t\toptions.hour = value.length === 2 ? '2-digit' : 'numeric';\n\t\t\t\t\toptions.hour12 = value === 'hh' || value === 'h';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'minute':\n\t\t\t\t\toptions.minute = value.length === 2 ? '2-digit' : 'numeric';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'second':\n\t\t\t\t\toptions.second = value.length === 2 ? '2-digit' : 'numeric';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fractionalSecond':\n\t\t\t\t\t(options as any).fractionalSecondDigits = 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dayPeriod':\n\t\t\t\t\toptions.dayPeriod = 'narrow';\n\t\t\t\t\toptions.hour12 = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'timeZoneName':\n\t\t\t\t\toptions.timeZoneName = (value.length === 2 ? 'longOffset' : 'shortOffset') as any;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn options;\n}\n\nconst ordinals = ['th', 'st', 'nd', 'rd'];\nfunction formatWithOrdinal(n: number): string {\n\tconst v = n % 100;\n\treturn `${n}${ordinals[(v - 20) % 10] ?? ordinals[v] ?? ordinals[0]}`;\n}\n","/*global document*/\n\nexport interface Disposable {\n\tdispose: () => void;\n}\n\nexport namespace DOM {\n\texport function on<K extends keyof WindowEventMap>(\n\t\twindow: Window,\n\t\tname: K,\n\t\tlistener: (e: WindowEventMap[K], target: Window) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<K extends keyof DocumentEventMap>(\n\t\tdocument: Document,\n\t\tname: K,\n\t\tlistener: (e: DocumentEventMap[K], target: Document) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<T extends HTMLElement, K extends keyof DocumentEventMap>(\n\t\telement: T,\n\t\tname: K,\n\t\tlistener: (e: DocumentEventMap[K], target: T) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<T extends Element, K extends keyof DocumentEventMap>(\n\t\tselector: string,\n\t\tname: K,\n\t\tlistener: (e: DocumentEventMap[K], target: T) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<K extends keyof (DocumentEventMap | WindowEventMap), T extends Document | Element | Window>(\n\t\tsourceOrSelector: string | Window | Document | Element,\n\t\tname: K,\n\t\tlistener: (e: (DocumentEventMap | WindowEventMap)[K], target: T) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable {\n\t\tlet disposed = false;\n\n\t\tif (typeof sourceOrSelector === 'string') {\n\t\t\tconst filteredListener = function (this: T, e: (DocumentEventMap | WindowEventMap)[K]) {\n\t\t\t\tconst target = e?.target as HTMLElement;\n\t\t\t\tif (!target?.matches(sourceOrSelector)) return;\n\n\t\t\t\tlistener(e, target as unknown as T);\n\t\t\t};\n\t\t\tdocument.addEventListener(name, filteredListener as EventListener, options ?? true);\n\n\t\t\treturn {\n\t\t\t\tdispose: () => {\n\t\t\t\t\tif (disposed) return;\n\t\t\t\t\tdisposed = true;\n\n\t\t\t\t\tdocument.removeEventListener(name, filteredListener as EventListener, options ?? true);\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tconst newListener = function (this: T, e: (DocumentEventMap | WindowEventMap)[K]) {\n\t\t\tlistener(e, this as unknown as T);\n\t\t};\n\t\tsourceOrSelector.addEventListener(name, newListener as EventListener, options ?? false);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tif (disposed) return;\n\t\t\t\tdisposed = true;\n\n\t\t\t\tsourceOrSelector.removeEventListener(name, newListener as EventListener, options ?? false);\n\t\t\t},\n\t\t};\n\t}\n\n\texport function insertTemplate(\n\t\tid: string,\n\t\t$slot: HTMLDivElement,\n\t\toptions?: { bindings?: Record<string, unknown>; visible?: Record<string, boolean> },\n\t): void {\n\t\tconst $template = (document.getElementById(id) as HTMLTemplateElement)?.content.cloneNode(true);\n\t\t$slot.replaceChildren($template);\n\n\t\tif (options?.visible != null) {\n\t\t\tconst $els = $slot.querySelectorAll<HTMLElement>(`[data-visible]`);\n\t\t\tfor (const $el of $els) {\n\t\t\t\tconst key = $el.dataset.visible;\n\t\t\t\tif (!key) continue;\n\n\t\t\t\tif (options.visible[key]) {\n\t\t\t\t\t$el.style.display = 'initial';\n\t\t\t\t} else {\n\t\t\t\t\t$el.style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options?.bindings != null) {\n\t\t\tconst $els = $slot.querySelectorAll<HTMLElement>(`[data-bind]`);\n\t\t\tfor (const $el of $els) {\n\t\t\t\tconst key = $el.dataset.bind;\n\t\t\t\tif (!key) continue;\n\n\t\t\t\tconst value = options.bindings[key];\n\t\t\t\tif (value == null) continue;\n\n\t\t\t\t$el.textContent = String(value);\n\t\t\t}\n\t\t}\n\t}\n}\n","const cssColorRegex =\n\t/^(?:(#?)([0-9a-f]{3}|[0-9a-f]{6})|((?:rgb|hsl)a?)\\((-?\\d+%?)[,\\s]+(-?\\d+%?)[,\\s]+(-?\\d+%?)[,\\s]*(-?[\\d.]+%?)?\\))$/i;\n\nfunction adjustLight(color: number, amount: number) {\n\tconst cc = color + amount;\n\tconst c = amount < 0 ? (cc < 0 ? 0 : cc) : cc > 255 ? 255 : cc;\n\n\treturn Math.round(c);\n}\n\nexport function darken(color: string, percentage: number) {\n\treturn lighten(color, -percentage);\n}\n\nexport function lighten(color: string, percentage: number) {\n\tconst rgba = toRgba(color);\n\tif (rgba == null) return color;\n\n\tconst [r, g, b, a] = rgba;\n\tconst amount = (255 * percentage) / 100;\n\treturn `rgba(${adjustLight(r, amount)}, ${adjustLight(g, amount)}, ${adjustLight(b, amount)}, ${a})`;\n}\n\nexport function opacity(color: string, percentage: number) {\n\tconst rgba = toRgba(color);\n\tif (rgba == null) return color;\n\n\tconst [r, g, b, a] = rgba;\n\treturn `rgba(${r}, ${g}, ${b}, ${a * (percentage / 100)})`;\n}\n\nexport function toRgba(color: string) {\n\tcolor = color.trim();\n\n\tconst result = cssColorRegex.exec(color);\n\tif (result == null) return null;\n\n\tif (result[1] === '#') {\n\t\tconst hex = result[2];\n\t\tswitch (hex.length) {\n\t\t\tcase 3:\n\t\t\t\treturn [parseInt(hex[0] + hex[0], 16), parseInt(hex[1] + hex[1], 16), parseInt(hex[2] + hex[2], 16), 1];\n\t\t\tcase 6:\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(hex.substring(0, 2), 16),\n\t\t\t\t\tparseInt(hex.substring(2, 4), 16),\n\t\t\t\t\tparseInt(hex.substring(4, 6), 16),\n\t\t\t\t\t1,\n\t\t\t\t];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tswitch (result[3]) {\n\t\tcase 'rgb':\n\t\t\treturn [parseInt(result[4], 10), parseInt(result[5], 10), parseInt(result[6], 10), 1];\n\t\tcase 'rgba':\n\t\t\treturn [parseInt(result[4], 10), parseInt(result[5], 10), parseInt(result[6], 10), parseFloat(result[7])];\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n","/*global window document MutationObserver*/\nimport { darken, lighten, opacity } from './colors';\n\nexport function initializeAndWatchThemeColors() {\n\tconst onColorThemeChanged = () => {\n\t\tconst body = document.body;\n\t\tconst computedStyle = window.getComputedStyle(body);\n\n\t\tconst bodyStyle = body.style;\n\n\t\tbodyStyle.setProperty('--font-family', computedStyle.getPropertyValue('--vscode-font-family').trim());\n\t\tbodyStyle.setProperty('--font-size', computedStyle.getPropertyValue('--vscode-font-size').trim());\n\t\tbodyStyle.setProperty('--font-weight', computedStyle.getPropertyValue('--vscode-font-weight').trim());\n\n\t\tbodyStyle.setProperty(\n\t\t\t'--editor-font-family',\n\t\t\tcomputedStyle.getPropertyValue('--vscode-editor-font-family').trim(),\n\t\t);\n\t\tbodyStyle.setProperty('--editor-font-size', computedStyle.getPropertyValue('--vscode-editor-font-size').trim());\n\t\tbodyStyle.setProperty(\n\t\t\t'--editor-font-weight',\n\t\t\tcomputedStyle.getPropertyValue('--vscode-editor-font-weight').trim(),\n\t\t);\n\n\t\tlet color = computedStyle.getPropertyValue('--vscode-editor-background').trim();\n\t\tbodyStyle.setProperty('--color-background', color);\n\t\tbodyStyle.setProperty('--color-background--lighten-05', lighten(color, 5));\n\t\tbodyStyle.setProperty('--color-background--darken-05', darken(color, 5));\n\t\tbodyStyle.setProperty('--color-background--lighten-075', lighten(color, 7.5));\n\t\tbodyStyle.setProperty('--color-background--darken-075', darken(color, 7.5));\n\t\tbodyStyle.setProperty('--color-background--lighten-15', lighten(color, 15));\n\t\tbodyStyle.setProperty('--color-background--darken-15', darken(color, 15));\n\t\tbodyStyle.setProperty('--color-background--lighten-30', lighten(color, 30));\n\t\tbodyStyle.setProperty('--color-background--darken-30', darken(color, 30));\n\t\tbodyStyle.setProperty('--color-background--lighten-50', lighten(color, 50));\n\t\tbodyStyle.setProperty('--color-background--darken-50', darken(color, 50));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-background').trim();\n\t\tbodyStyle.setProperty('--color-button-background', color);\n\t\tbodyStyle.setProperty('--color-button-background--darken-30', darken(color, 30));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-secondaryBackground').trim();\n\t\tbodyStyle.setProperty('--color-button-secondary-background', color);\n\t\tbodyStyle.setProperty('--color-button-secondary-background--darken-30', darken(color, 30));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-background').trim();\n\t\tbodyStyle.setProperty('--color-highlight', color);\n\t\tbodyStyle.setProperty('--color-highlight--75', opacity(color, 75));\n\t\tbodyStyle.setProperty('--color-highlight--50', opacity(color, 50));\n\t\tbodyStyle.setProperty('--color-highlight--25', opacity(color, 25));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-foreground').trim();\n\t\tbodyStyle.setProperty('--color-button-foreground', color);\n\n\t\tlet foregroundColor = computedStyle.getPropertyValue('--vscode-editor-foreground').trim();\n\t\tif (!foregroundColor) {\n\t\t\tforegroundColor = computedStyle.getPropertyValue('--vscode-foreground').trim();\n\t\t}\n\t\tbodyStyle.setProperty('--color-foreground', foregroundColor);\n\t\tbodyStyle.setProperty('--color-foreground--85', opacity(foregroundColor, 85));\n\t\tbodyStyle.setProperty('--color-foreground--75', opacity(foregroundColor, 75));\n\t\tbodyStyle.setProperty('--color-foreground--65', opacity(foregroundColor, 65));\n\t\tbodyStyle.setProperty('--color-foreground--50', opacity(foregroundColor, 50));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-focusBorder').trim();\n\t\tbodyStyle.setProperty('--color-focus-border', color);\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-textLink-foreground').trim();\n\t\tbodyStyle.setProperty('--color-link-foreground', color);\n\t\tbodyStyle.setProperty('--color-link-foreground--darken-20', darken(color, 20));\n\t\tbodyStyle.setProperty('--color-link-foreground--lighten-20', lighten(color, 20));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-sideBar-foreground').trim();\n\t\tbodyStyle.setProperty('--color-view-foreground', color || foregroundColor);\n\n\t\tbodyStyle.setProperty(\n\t\t\t'--color-view-header-foreground',\n\t\t\tcomputedStyle.getPropertyValue('--vscode-sideBarSectionHeader-foreground').trim() ||\n\t\t\t\tcolor ||\n\t\t\t\tforegroundColor,\n\t\t);\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-background').trim();\n\t\tbodyStyle.setProperty('--color-hover-background', color);\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-border').trim();\n\t\tbodyStyle.setProperty('--color-hover-border', color);\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-foreground').trim();\n\t\tbodyStyle.setProperty('--color-hover-foreground', color);\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-statusBarBackground').trim();\n\t\tbodyStyle.setProperty('--color-hover-statusBarBackground', color);\n\t};\n\n\tconst observer = new MutationObserver(onColorThemeChanged);\n\tobserver.observe(document.body, { attributes: true, attributeFilter: ['class'] });\n\n\tonColorThemeChanged();\n\treturn observer;\n}\n","/*global window document*/\nimport {\n\tIpcCommandType,\n\tIpcMessage,\n\tIpcMessageParams,\n\tIpcNotificationType,\n\tonIpc,\n\tWebviewReadyCommandType,\n} from '../../protocol';\nimport { DOM } from './dom';\nimport { Disposable } from './events';\nimport { initializeAndWatchThemeColors } from './theme';\n\ninterface VsCodeApi {\n\tpostMessage(msg: unknown): void;\n\tsetState(state: unknown): void;\n\tgetState(): unknown;\n}\n\ndeclare function acquireVsCodeApi(): VsCodeApi;\n\nlet ipcSequence = 0;\nfunction nextIpcId() {\n\tif (ipcSequence === Number.MAX_SAFE_INTEGER) {\n\t\tipcSequence = 1;\n\t} else {\n\t\tipcSequence++;\n\t}\n\n\treturn `webview:${ipcSequence}`;\n}\n\nexport abstract class App<State = void> {\n\tprivate readonly _api: VsCodeApi;\n\tprotected state: State;\n\n\tconstructor(protected readonly appName: string) {\n\t\tthis.log(`${this.appName}.ctor`);\n\n\t\tthis.state = (window as any).bootstrap;\n\t\t(window as any).bootstrap = undefined;\n\n\t\tthis._api = acquireVsCodeApi();\n\t\tinitializeAndWatchThemeColors();\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.log(`${this.appName}.initializing`);\n\n\t\t\ttry {\n\t\t\t\tthis.onInitialize?.();\n\t\t\t\tthis.bind();\n\n\t\t\t\tif (this.onMessageReceived != null) {\n\t\t\t\t\twindow.addEventListener('message', this.onMessageReceived.bind(this));\n\t\t\t\t}\n\n\t\t\t\tthis.sendCommand(WebviewReadyCommandType, undefined);\n\n\t\t\t\tthis.onInitialized?.();\n\t\t\t} finally {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdocument.body.classList.remove('preload');\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected onInitialize?(): void;\n\tprotected onBind?(): Disposable[];\n\tprotected onInitialized?(): void;\n\tprotected onMessageReceived?(e: MessageEvent): void;\n\n\tprivate bindDisposables: Disposable[] | undefined;\n\tprotected bind() {\n\t\tthis.bindDisposables?.forEach(d => d.dispose());\n\t\tthis.bindDisposables = this.onBind?.();\n\t}\n\n\tprotected log(message: string) {\n\t\tconsole.log(message);\n\t}\n\n\tprotected getState(): State {\n\t\treturn this._api.getState() as State;\n\t}\n\n\tprotected sendCommand<TCommand extends IpcCommandType<any>>(\n\t\tcommand: TCommand,\n\t\tparams: IpcMessageParams<TCommand>,\n\t): void {\n\t\tconst id = nextIpcId();\n\t\tthis.log(`${this.appName}.sendCommand(${id}): name=${command.method}`);\n\n\t\treturn this.postMessage({ id: id, method: command.method, params: params });\n\t}\n\n\tprotected sendCommandWithCompletion<\n\t\tTCommand extends IpcCommandType<any>,\n\t\tTCompletion extends IpcNotificationType<{ completionId: string }>,\n\t>(\n\t\tcommand: TCommand,\n\t\tparams: IpcMessageParams<TCommand>,\n\t\tcompletion: TCompletion,\n\t\tcallback: (params: IpcMessageParams<TCompletion>) => void,\n\t): void {\n\t\tconst id = nextIpcId();\n\t\tthis.log(`${this.appName}.sendCommandWithCompletion(${id}): name=${command.method}`);\n\n\t\tconst disposable = DOM.on(window, 'message', e => {\n\t\t\tonIpc(completion, e.data as IpcMessage, params => {\n\t\t\t\tif (params.completionId === id) {\n\t\t\t\t\tdisposable.dispose();\n\t\t\t\t\tcallback(params);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn this.postMessage({ id: id, method: command.method, params: params });\n\t}\n\n\tprotected setState(state: State) {\n\t\tthis.state = state;\n\t\tif (state == null) return;\n\n\t\tthis._api.setState(state);\n\t}\n\n\tprivate postMessage(e: IpcMessage) {\n\t\tthis._api.postMessage(e);\n\t}\n}\n","/*global document*/\nimport type { Config } from '../../../config';\nimport {\n\tDidChangeConfigurationNotificationType,\n\tDidGenerateConfigurationPreviewNotificationType,\n\tDidOpenAnchorNotificationType,\n\tGenerateConfigurationPreviewCommandType,\n\tIpcMessage,\n\tonIpc,\n\tUpdateConfigurationCommandType,\n} from '../../protocol';\nimport { formatDate } from '../shared/date';\nimport { App } from './appBase';\nimport { DOM } from './dom';\n\nconst offset = (new Date().getTimezoneOffset() / 60) * 100;\nconst date = new Date(\n\t`Wed Jul 25 2018 19:18:00 GMT${offset >= 0 ? '-' : '+'}${String(Math.abs(offset)).padStart(4, '0')}`,\n);\n\ninterface AppStateWithConfig {\n\tconfig: Config;\n\tcustomSettings?: Record<string, boolean>;\n}\n\nexport abstract class AppWithConfig<State extends AppStateWithConfig> extends App<State> {\n\tprivate _changes = Object.create(null) as Record<string, any>;\n\tprivate _updating: boolean = false;\n\n\tconstructor(appName: string) {\n\t\tsuper(appName);\n\t}\n\n\tprotected override onInitialized() {\n\t\tthis.updateState();\n\t}\n\n\tprotected override onBind() {\n\t\tconst disposables = super.onBind?.() ?? [];\n\n\t\tdisposables.push(\n\t\t\tDOM.on('input[type=checkbox][data-setting]', 'change', (e, target: HTMLInputElement) =>\n\t\t\t\tthis.onInputChecked(target),\n\t\t\t),\n\t\t\tDOM.on(\n\t\t\t\t'input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]',\n\t\t\t\t'blur',\n\t\t\t\t(e, target: HTMLInputElement) => this.onInputBlurred(target),\n\t\t\t),\n\t\t\tDOM.on(\n\t\t\t\t'input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]',\n\t\t\t\t'focus',\n\t\t\t\t(e, target: HTMLInputElement) => this.onInputFocused(target),\n\t\t\t),\n\t\t\tDOM.on(\n\t\t\t\t'input[type=text][data-setting][data-setting-preview], input[type=number][data-setting][data-setting-preview]',\n\t\t\t\t'input',\n\t\t\t\t(e, target: HTMLInputElement) => this.onInputChanged(target),\n\t\t\t),\n\t\t\tDOM.on('select[data-setting]', 'change', (e, target: HTMLSelectElement) => this.onInputSelected(target)),\n\t\t\tDOM.on('.popup', 'mousedown', (e, target: HTMLElement) => this.onPopupMouseDown(target, e)),\n\t\t);\n\n\t\treturn disposables;\n\t}\n\n\tprotected override onMessageReceived(e: MessageEvent) {\n\t\tconst msg = e.data as IpcMessage;\n\n\t\tthis.log(`${this.appName}.onMessageReceived(${msg.id}): name=${msg.method}`);\n\n\t\tswitch (msg.method) {\n\t\t\tcase DidOpenAnchorNotificationType.method: {\n\t\t\t\tonIpc(DidOpenAnchorNotificationType, msg, params => {\n\t\t\t\t\tthis.scrollToAnchor(params.anchor, params.scrollBehavior);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DidChangeConfigurationNotificationType.method:\n\t\t\t\tonIpc(DidChangeConfigurationNotificationType, msg, params => {\n\t\t\t\t\tthis.state.config = params.config;\n\t\t\t\t\tthis.state.customSettings = params.customSettings;\n\n\t\t\t\t\tthis.updateState();\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tsuper.onMessageReceived?.(e);\n\t\t}\n\t}\n\n\tprotected applyChanges() {\n\t\tthis.sendCommand(UpdateConfigurationCommandType, {\n\t\t\tchanges: { ...this._changes },\n\t\t\tremoves: Object.keys(this._changes).filter(k => this._changes[k] === undefined),\n\t\t\tscope: this.getSettingsScope(),\n\t\t});\n\n\t\tthis._changes = Object.create(null) as Record<string, any>;\n\t}\n\n\tprotected getSettingsScope(): 'user' | 'workspace' {\n\t\treturn 'user';\n\t}\n\n\tprotected onInputBlurred(element: HTMLInputElement) {\n\t\tthis.log(`${this.appName}.onInputBlurred: name=${element.name}, value=${element.value}`);\n\n\t\tconst $popup = document.getElementById(`${element.name}.popup`);\n\t\tif ($popup != null) {\n\t\t\t$popup.classList.add('hidden');\n\t\t}\n\n\t\tlet value: string | null | undefined = element.value;\n\t\tif (value == null || value.length === 0) {\n\t\t\tvalue = element.dataset.defaultValue;\n\t\t\tif (value === undefined) {\n\t\t\t\tvalue = null;\n\t\t\t}\n\t\t}\n\n\t\tthis._changes[element.name] = element.type === 'number' && value != null ? Number(value) : value;\n\n\t\t// this.setAdditionalSettings(element.checked ? element.dataset.addSettingsOn : element.dataset.addSettingsOff);\n\t\tthis.applyChanges();\n\t}\n\n\tprotected onInputChanged(element: HTMLInputElement) {\n\t\tif (this._updating) return;\n\n\t\tfor (const el of document.querySelectorAll<HTMLSpanElement>(`span[data-setting-preview=\"${element.name}\"]`)) {\n\t\t\tthis.updatePreview(el, element.value);\n\t\t}\n\t}\n\n\tprotected onInputChecked(element: HTMLInputElement) {\n\t\tif (this._updating) return;\n\n\t\tthis.log(\n\t\t\t`${this.appName}.onInputChecked: name=${element.name}, checked=${element.checked}, value=${element.value}`,\n\t\t);\n\n\t\tswitch (element.dataset.settingType) {\n\t\t\tcase 'object': {\n\t\t\t\tconst props = element.name.split('.');\n\t\t\t\tconst settingName = props.splice(0, 1)[0];\n\t\t\t\tconst setting = this.getSettingValue(settingName) ?? Object.create(null);\n\n\t\t\t\tif (element.checked) {\n\t\t\t\t\tset(setting, props.join('.'), fromCheckboxValue(element.value));\n\t\t\t\t} else {\n\t\t\t\t\tset(setting, props.join('.'), false);\n\t\t\t\t}\n\n\t\t\t\tthis._changes[settingName] = setting;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'array': {\n\t\t\t\tconst setting = this.getSettingValue(element.name) ?? [];\n\t\t\t\tif (Array.isArray(setting)) {\n\t\t\t\t\tif (element.checked) {\n\t\t\t\t\t\tif (!setting.includes(element.value)) {\n\t\t\t\t\t\t\tsetting.push(element.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst i = setting.indexOf(element.value);\n\t\t\t\t\t\tif (i !== -1) {\n\t\t\t\t\t\t\tsetting.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._changes[element.name] = setting;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'custom': {\n\t\t\t\tthis._changes[element.name] = element.checked;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tif (element.checked) {\n\t\t\t\t\tthis._changes[element.name] = fromCheckboxValue(element.value);\n\t\t\t\t} else {\n\t\t\t\t\tthis._changes[element.name] = element.dataset.valueOff == null ? false : element.dataset.valueOff;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tthis.setAdditionalSettings(element.checked ? element.dataset.addSettingsOn : element.dataset.addSettingsOff);\n\t\tthis.applyChanges();\n\t}\n\n\tprotected onInputFocused(element: HTMLInputElement) {\n\t\tthis.log(`${this.appName}.onInputFocused: name=${element.name}, value=${element.value}`);\n\n\t\tconst $popup = document.getElementById(`${element.name}.popup`);\n\t\tif ($popup != null) {\n\t\t\tif ($popup.childElementCount === 0) {\n\t\t\t\tconst $template = (document.querySelector('#token-popup') as HTMLTemplateElement)?.content.cloneNode(\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t\t$popup.appendChild($template);\n\t\t\t}\n\t\t\t$popup.classList.remove('hidden');\n\t\t}\n\t}\n\n\tprotected onInputSelected(element: HTMLSelectElement) {\n\t\tif (this._updating) return;\n\n\t\tconst value = element.options[element.selectedIndex].value;\n\n\t\tthis.log(`${this.appName}.onInputSelected: name=${element.name}, value=${value}`);\n\n\t\tthis._changes[element.name] = ensureIfBooleanOrNull(value);\n\n\t\tthis.applyChanges();\n\t}\n\n\tprotected onPopupMouseDown(element: HTMLElement, e: MouseEvent) {\n\t\te.preventDefault();\n\n\t\tconst el = e.target as HTMLElement;\n\t\tif (el?.matches('[data-token]')) {\n\t\t\tthis.onTokenMouseDown(el, e);\n\t\t}\n\t}\n\n\tprotected onTokenMouseDown(element: HTMLElement, e: MouseEvent) {\n\t\tif (this._updating) return;\n\n\t\tthis.log(`${this.appName}.onTokenClicked: id=${element.id}`);\n\n\t\tconst setting = element.closest('.setting');\n\t\tif (setting == null) return;\n\n\t\tconst input = setting.querySelector<HTMLInputElement>('input[type=text], input:not([type])');\n\t\tif (input == null) return;\n\n\t\tconst token = `\\${${element.dataset.token}}`;\n\t\tlet selectionStart = input.selectionStart;\n\t\tif (selectionStart != null) {\n\t\t\tinput.value = `${input.value.substring(0, selectionStart)}${token}${input.value.substr(\n\t\t\t\tinput.selectionEnd ?? selectionStart,\n\t\t\t)}`;\n\n\t\t\tselectionStart += token.length;\n\t\t} else {\n\t\t\tselectionStart = input.value.length;\n\t\t}\n\n\t\tinput.focus();\n\t\tinput.setSelectionRange(selectionStart, selectionStart);\n\t\tif (selectionStart === input.value.length) {\n\t\t\tinput.scrollLeft = input.scrollWidth;\n\t\t}\n\n\t\tsetTimeout(() => this.onInputChanged(input), 0);\n\t\tsetTimeout(() => input.focus(), 250);\n\n\t\te.stopPropagation();\n\t\te.stopImmediatePropagation();\n\t\te.preventDefault();\n\t}\n\n\tprotected scrollToAnchor(anchor: string, behavior: ScrollBehavior, offset?: number) {\n\t\tconst el = document.getElementById(anchor);\n\t\tif (el == null) return;\n\n\t\tthis.scrollTo(el, behavior, offset);\n\t}\n\n\tprivate _scrollTimer: ReturnType<typeof setTimeout> | undefined;\n\tprivate scrollTo(el: HTMLElement, behavior: ScrollBehavior, offset?: number) {\n\t\tconst top = el.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (offset ?? 0);\n\n\t\twindow.scrollTo({\n\t\t\ttop: top,\n\t\t\tbehavior: behavior ?? 'smooth',\n\t\t});\n\n\t\tconst fn = () => {\n\t\t\tif (this._scrollTimer != null) {\n\t\t\t\tclearTimeout(this._scrollTimer);\n\t\t\t}\n\n\t\t\tthis._scrollTimer = setTimeout(() => {\n\t\t\t\twindow.removeEventListener('scroll', fn);\n\n\t\t\t\tconst newTop =\n\t\t\t\t\tel.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (offset ?? 0);\n\t\t\t\tif (top === newTop) return;\n\n\t\t\t\tthis.scrollTo(el, behavior, offset);\n\t\t\t}, 50);\n\t\t};\n\n\t\twindow.addEventListener('scroll', fn, false);\n\t}\n\n\tprivate evaluateStateExpression(expression: string, changes: Record<string, string | boolean>): boolean {\n\t\tlet state = false;\n\t\tfor (const expr of expression.trim().split('&')) {\n\t\t\tconst [lhs, op, rhs] = parseStateExpression(expr);\n\n\t\t\tswitch (op) {\n\t\t\t\tcase '=': {\n\t\t\t\t\t// Equals\n\t\t\t\t\tlet value = changes[lhs];\n\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\tvalue = this.getSettingValue<string | boolean>(lhs) ?? false;\n\t\t\t\t\t}\n\t\t\t\t\tstate = rhs !== undefined ? rhs === String(value) : Boolean(value);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase '!': {\n\t\t\t\t\t// Not equals\n\t\t\t\t\tlet value = changes[lhs];\n\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\tvalue = this.getSettingValue<string | boolean>(lhs) ?? false;\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n\t\t\t\t\tstate = rhs !== undefined ? rhs !== String(value) : !value;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase '+': {\n\t\t\t\t\t// Contains\n\t\t\t\t\tif (rhs !== undefined) {\n\t\t\t\t\t\tconst setting = this.getSettingValue<string[]>(lhs);\n\t\t\t\t\t\tstate = setting !== undefined ? setting.includes(rhs.toString()) : false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!state) break;\n\t\t}\n\t\treturn state;\n\t}\n\n\tprivate getCustomSettingValue(path: string): boolean | undefined {\n\t\treturn this.state.customSettings?.[path];\n\t}\n\n\tprivate getSettingValue<T>(path: string): T | undefined {\n\t\tconst customSetting = this.getCustomSettingValue(path);\n\t\tif (customSetting != null) return customSetting as any;\n\n\t\treturn get<T>(this.state.config, path);\n\t}\n\n\tprivate updateState() {\n\t\tthis._updating = true;\n\n\t\ttry {\n\t\t\tfor (const el of document.querySelectorAll<HTMLInputElement>('input[type=checkbox][data-setting]')) {\n\t\t\t\tif (el.dataset.settingType === 'custom') {\n\t\t\t\t\tel.checked = this.getCustomSettingValue(el.name) ?? false;\n\t\t\t\t} else if (el.dataset.settingType === 'array') {\n\t\t\t\t\tel.checked = (this.getSettingValue<string[]>(el.name) ?? []).includes(el.value);\n\t\t\t\t} else if (el.dataset.valueOff != null) {\n\t\t\t\t\tconst value = this.getSettingValue<string>(el.name);\n\t\t\t\t\tel.checked = el.dataset.valueOff !== value;\n\t\t\t\t} else {\n\t\t\t\t\tel.checked = this.getSettingValue<boolean>(el.name) ?? false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const el of document.querySelectorAll<HTMLInputElement>(\n\t\t\t\t'input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]',\n\t\t\t)) {\n\t\t\t\tel.value = this.getSettingValue<string>(el.name) ?? '';\n\t\t\t}\n\n\t\t\tfor (const el of document.querySelectorAll<HTMLSelectElement>('select[data-setting]')) {\n\t\t\t\tconst value = this.getSettingValue<string>(el.name);\n\t\t\t\tconst option = el.querySelector<HTMLOptionElement>(`option[value='${value}']`);\n\t\t\t\tif (option != null) {\n\t\t\t\t\toption.selected = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const el of document.querySelectorAll<HTMLSpanElement>('span[data-setting-preview]')) {\n\t\t\t\tthis.updatePreview(el);\n\t\t\t}\n\t\t} finally {\n\t\t\tthis._updating = false;\n\t\t}\n\n\t\tconst state = flatten(this.state.config);\n\t\tthis.setVisibility(state);\n\t\tthis.setEnablement(state);\n\t}\n\n\tprivate setAdditionalSettings(expression: string | undefined) {\n\t\tif (!expression) return;\n\n\t\tconst addSettings = parseAdditionalSettingsExpression(expression);\n\t\tfor (const [s, v] of addSettings) {\n\t\t\tthis._changes[s] = v;\n\t\t}\n\t}\n\n\tprivate setEnablement(state: Record<string, string | boolean>) {\n\t\tfor (const el of document.querySelectorAll<HTMLElement>('[data-enablement]')) {\n\t\t\tconst disabled = !this.evaluateStateExpression(el.dataset.enablement!, state);\n\t\t\tif (disabled) {\n\t\t\t\tel.setAttribute('disabled', '');\n\t\t\t} else {\n\t\t\t\tel.removeAttribute('disabled');\n\t\t\t}\n\n\t\t\tif (el.matches('input,select')) {\n\t\t\t\t(el as HTMLInputElement | HTMLSelectElement).disabled = disabled;\n\t\t\t} else {\n\t\t\t\tconst input = el.querySelector<HTMLInputElement | HTMLSelectElement>('input,select');\n\t\t\t\tif (input == null) continue;\n\n\t\t\t\tinput.disabled = disabled;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setVisibility(state: Record<string, string | boolean>) {\n\t\tfor (const el of document.querySelectorAll<HTMLElement>('[data-visibility]')) {\n\t\t\tel.classList.toggle('hidden', !this.evaluateStateExpression(el.dataset.visibility!, state));\n\t\t}\n\t}\n\n\tprivate updatePreview(el: HTMLSpanElement, value?: string) {\n\t\tswitch (el.dataset.settingPreviewType) {\n\t\t\tcase 'date': {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this.getSettingValue<string>(el.dataset.settingPreview!);\n\t\t\t\t}\n\n\t\t\t\tif (value == null || value.length === 0) {\n\t\t\t\t\tvalue = el.dataset.settingPreviewDefault;\n\t\t\t\t}\n\n\t\t\t\tel.innerText = value == null ? '' : formatDate(date, value);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'commit': {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this.getSettingValue<string>(el.dataset.settingPreview!);\n\t\t\t\t}\n\n\t\t\t\tif (value == null || value.length === 0) {\n\t\t\t\t\tvalue = el.dataset.settingPreviewDefault;\n\t\t\t\t}\n\n\t\t\t\tif (value == null) {\n\t\t\t\t\tel.innerText = '';\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.sendCommandWithCompletion(\n\t\t\t\t\tGenerateConfigurationPreviewCommandType,\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: el.dataset.settingPreview!,\n\t\t\t\t\t\ttype: 'commit',\n\t\t\t\t\t\tformat: value,\n\t\t\t\t\t},\n\t\t\t\t\tDidGenerateConfigurationPreviewNotificationType,\n\t\t\t\t\tparams => {\n\t\t\t\t\t\tel.innerText = params.preview ?? '';\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction ensureIfBooleanOrNull(value: string | boolean): string | boolean | null {\n\tif (value === 'true') return true;\n\tif (value === 'false') return false;\n\tif (value === 'null') return null;\n\treturn value;\n}\n\nfunction get<T>(o: Record<string, any>, path: string): T | undefined {\n\treturn path.split('.').reduce((o = {}, key) => (o == null ? undefined : o[key]), o) as T;\n}\n\nfunction set(o: Record<string, any>, path: string, value: any): Record<string, any> {\n\tconst props = path.split('.');\n\tconst length = props.length;\n\tconst lastIndex = length - 1;\n\n\tlet index = -1;\n\tlet nested = o;\n\n\twhile (nested != null && ++index < length) {\n\t\tconst key = props[index];\n\t\tlet newValue = value;\n\n\t\tif (index !== lastIndex) {\n\t\t\tconst objValue = nested[key];\n\t\t\tnewValue = typeof objValue === 'object' ? objValue : {};\n\t\t}\n\n\t\tnested[key] = newValue;\n\t\tnested = nested[key];\n\t}\n\n\treturn o;\n}\n\nfunction parseAdditionalSettingsExpression(expression: string): [string, string | boolean | null][] {\n\tconst settingsExpression = expression.trim().split(',');\n\treturn settingsExpression.map<[string, string | boolean | null]>(s => {\n\t\tconst [setting, value] = s.split('=');\n\t\treturn [setting, ensureIfBooleanOrNull(value)];\n\t});\n}\n\nfunction parseStateExpression(expression: string): [string, string, string | boolean | undefined] {\n\tconst [lhs, op, rhs] = expression.trim().split(/([=+!])/);\n\treturn [lhs.trim(), op !== undefined ? op.trim() : '=', rhs !== undefined ? rhs.trim() : rhs];\n}\n\nfunction flatten(o: Record<string, any>, path?: string): Record<string, any> {\n\tconst results: Record<string, any> = {};\n\n\tfor (const key in o) {\n\t\tconst value = o[key];\n\t\tif (Array.isArray(value)) continue;\n\n\t\tif (typeof value === 'object') {\n\t\t\tObject.assign(results, flatten(value, path === undefined ? key : `${path}.${key}`));\n\t\t} else {\n\t\t\tresults[path === undefined ? key : `${path}.${key}`] = value;\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction fromCheckboxValue(elementValue: any) {\n\tswitch (elementValue) {\n\t\tcase 'on':\n\t\t\treturn true;\n\t\tcase 'null':\n\t\t\treturn null;\n\t\tcase 'undefined':\n\t\t\treturn undefined;\n\t\tdefault:\n\t\t\treturn elementValue;\n\t}\n}\n","/*global*/\nimport './welcome.scss';\nimport type { State } from '../../welcome/protocol';\nimport { AppWithConfig } from '../shared/appWithConfigBase';\n// import { Snow } from '../shared/snow';\n\nexport class WelcomeApp extends AppWithConfig<State> {\n\tconstructor() {\n\t\tsuper('WelcomeApp');\n\t}\n}\n\nnew WelcomeApp();\n// requestAnimationFrame(() => new Snow());\n"],"names":[],"sourceRoot":""}